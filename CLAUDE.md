# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a multi-instance Docusaurus v3.9.1 documentation site for VTuber animation tools. The site hosts documentation for three applications:
- **VTS Terminal** - Terminal integration for VTuber Studio
- **PSD Layer Animation** - Animation tool using Photoshop layer structures
- **Live2D Physics Composer** - Physics simulation tool for Live2D models

The site uses TypeScript, React 19, and the classic preset with blog functionality disabled. It's configured for v4 compatibility (`future.v4: true`).

## Development Commands

### Local Development
```bash
npm start
# Starts dev server with hot reload at http://localhost:3000
```

### Build & Validation
```bash
npm run build
# Generates static content into build/ directory

npm run typecheck
# Run TypeScript type checking (no tests configured)

npm run clear
# Clear Docusaurus cache
```

### Deployment
```bash
npm run deploy
# Deploy to GitHub Pages (requires GIT_USER env or USE_SSH=true)

npm run serve
# Serve production build locally for testing
```

### Docusaurus Utilities
```bash
npm run swizzle
# Eject/wrap Docusaurus theme components for customization

npm run write-translations
# Generate translation files for i18n

npm run write-heading-ids
# Auto-generate heading IDs in markdown files
```

## Architecture

### Configuration Flow
- **docusaurus.config.ts**: Main site configuration with multi-instance docs setup
  - Default instance: VTS Terminal at `/vts-terminal`
  - Plugin instances: PSD Layer Animation at `/psd-layer-animation`, Live2D Physics at `/live2d-physics`
  - Each instance has its own sidebar configuration file
- **sidebars/**: Separate sidebar files for each docs instance
  - `vts-terminal.ts`, `psd-layer-animation.ts`, `live2d-physics.ts`
- **tsconfig.json**: Extends `@docusaurus/tsconfig` with `baseUrl: "."` for path resolution

### Content Structure
- **docs/**: Documentation content organized by application
  - `docs/vts-terminal/`: VTS Terminal docs (route: `/vts-terminal`)
  - `docs/psd-layer-animation/`: PSD Layer Animation docs (route: `/psd-layer-animation`)
  - `docs/live2d-physics/`: Live2D Physics docs (route: `/live2d-physics`)
- **src/pages/**: Standalone pages
  - `index.tsx`: Homepage with links to all three documentation sets
- **src/components/**: React components
  - `HomepageFeatures/`: Feature showcase for the three applications
- **static/**: Static assets (images, favicon)
  - Referenced in docs as `/img/filename.ext`

### Component Patterns
- Use `@site/` alias for root-relative imports: `@site/src/components/Foo`
- Theme components from `@theme/` namespace (e.g., `@theme/Layout`, `@theme/Heading`)
- Docusaurus hooks: `useDocusaurusContext()` for site config access
- Type imports: `import type {ReactNode} from 'react'` for type-only imports

### Key Files
- **docusaurus.config.ts:42-46**: Default docs instance (VTS Terminal)
- **docusaurus.config.ts:56-74**: Two plugin docs instances (PSD Layer Animation, Live2D Physics)
- **docusaurus.config.ts:89-116**: Navbar with links to all three doc sections

## Development Notes

- **Node.js requirement**: >=20.0
- **Package manager**: Uses npm (package-lock.json present, but README mentions yarn)
- **Broken links**: Configured to throw on broken links (`onBrokenLinks: 'throw'`)
- **No test framework**: No Jest/Vitest/testing library configured
- **No linting**: No ESLint/Prettier configuration files present
- **TypeScript**: Type checking via `npm run typecheck`, but not used in compilation (Docusaurus handles bundling)

## Adding Content

### New Documentation Page

**For VTS Terminal:**
1. Create `.md` or `.mdx` file in `docs/vts-terminal/` directory
2. Add frontmatter with `sidebar_position`, `title`, and optional `sidebar_label`
3. Sidebar updates automatically (autogenerated from `vts-terminal.ts`)

**For PSD Layer Animation:**
1. Create `.md` or `.mdx` file in `docs/psd-layer-animation/` directory
2. Add frontmatter with `sidebar_position`, `title`, and optional `sidebar_label`
3. Sidebar updates automatically (autogenerated from `psd-layer-animation.ts`)

**For Live2D Physics:**
1. Create `.md` or `.mdx` file in `docs/live2d-physics/` directory
2. Add frontmatter with `sidebar_position`, `title`, and optional `sidebar_label`
3. Sidebar updates automatically (autogenerated from `live2d-physics.ts`)

### Custom React Page
1. Create `.tsx` file in `src/pages/`
2. Export default React component using `Layout` from `@theme/Layout`
3. Route generated automatically from filename (e.g., `about.tsx` â†’ `/about`)

### Multi-Instance Navigation
- VTS Terminal: `/vts-terminal/*`
- PSD Layer Animation: `/psd-layer-animation/*`
- Live2D Physics: `/live2d-physics/*`
- Navbar provides quick switching between documentation sets

### Swizzling Theme Components
Use `npm run swizzle @docusaurus/theme-classic [ComponentName]` to customize theme components. Choose "Wrap" for safe customization or "Eject" for full control.
